  <footer class="page-footer blue-grey darken-4">
    <div class="footer-copyright">
      <div class="container">
        <small>Copyright &copy; 2018 - {{ 'now' | date: "%Y" }} EMC2. Template built with <a href="http://materializecss.com" target="_blank">Materialize</a>. Banner image credits: <a href="https://commons.wikimedia.org/wiki/File:A_panaromic_view_of_Pittsburgh,_PA.jpg">A panoramic view of Pittsburgh, PA</a>, <a href="https://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>, via Wikimedia Commons</small>
      </div>
    </div>
  </footer>

  <button class="scroll-to-top" id="scrollToTop" aria-label="Scroll to top">
    <i class="material-icons">keyboard_arrow_up</i>
  </button>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script src="assets/js/materialize.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function(){
      $('.sidenav').sidenav();
      var $tabs = $('.tabs');
      $tabs.tabs();

      // Activate tab from URL hash (e.g. #tab_competition)
      function selectTabFromHash() {
        var hash = window.location.hash;
        if (hash && $(hash).length) {
          $tabs.tabs('select', hash.substring(1));
        }
      }
      selectTabFromHash();
      $(window).on('hashchange', selectTabFromHash);
      $('.competition-tab-link').on('click', function(e) {
        e.preventDefault();
        $tabs.tabs('select', 'tab_competition');
        var tabContainer = document.querySelector('.program-tab-container');
        if (tabContainer) {
          tabContainer.scrollIntoView({ behavior: 'smooth' });
        }
      });
      $(".dropdown-trigger").dropdown({ hover: true, constrainWidth: false });

      var $scrollBtn = $('#scrollToTop');
      var $nav = $('nav');
      $(window).on('scroll', function(){
        var scrollTop = $(this).scrollTop();
        if (scrollTop > 300) {
          $scrollBtn.addClass('visible');
        } else {
          $scrollBtn.removeClass('visible');
        }
        if (scrollTop > 10) {
          $nav.addClass('nav-scrolled');
        } else {
          $nav.removeClass('nav-scrolled');
        }
      });
      $scrollBtn.on('click', function(){
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });

      // Speaker cards scroll-hint fade
      document.querySelectorAll('.speaker-cards-wrap').forEach(function(wrap) {
        var strip = wrap.querySelector('.speaker-cards');
        if (strip) {
          strip.addEventListener('scroll', function() {
            var atEnd = strip.scrollLeft + strip.clientWidth >= strip.scrollWidth - 5;
            wrap.classList.toggle('scrolled-end', atEnd);
          });
        }
      });

      // Committee bio toggle
      window.toggleBio = function(btn) {
        var bio = btn.previousElementSibling;
        bio.classList.toggle('expanded');
        btn.textContent = bio.classList.contains('expanded') ? 'Read less' : 'Read more';
      };

      // Fade-in on scroll
      var fadeEls = document.querySelectorAll('.fade-in');
      if ('IntersectionObserver' in window) {
        var observer = new IntersectionObserver(function(entries) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              entry.target.classList.add('visible');
              observer.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });
        fadeEls.forEach(function(el) { observer.observe(el); });
      } else {
        fadeEls.forEach(function(el) { el.classList.add('visible'); });
      }
    });
  </script>
</body>
</html>
